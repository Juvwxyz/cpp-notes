# 你好C++

了解一座城市最好的办法就是走进其中；学习一门编程语言最好的方式就是亲自动手编码。

今天，我们就来走进C++，当然，不是深入其中的细节，而是从空中俯瞰，观察它大致的形状。下面的内容会引入很多概念，但是不必担心，不理解是很正常的，在后续的学习过程中你会慢慢掌握它们的。

下面我们就来看看一段经典的入门代码：

```cpp
#include <iostream>
// Say hello to C++
int main()
{
    std::cout << "你好，我是C++。\n";
    return 0;
}
```

看到第一行：

```cpp
#include <iostream>
```

在C++中，以井号`#`开头，并且单独占一行的语言构造称为`预处理指令(Preproccessor Directive)`。在正式开始编译之前，预处理器会识别这些指令，并且对源代码进行预处理。就像炒菜之前，要将食材洗净切碎。预处理就是对源代码的第一步粗加工。

`#include`指令也叫做包含指令，它的作用其实很简单：就是将后面尖括号中指定的那个文件复制粘贴到当前位置。`iostream`是`标准库`里的一个`头文件`。这个头文件里记录了`std::cout`这个对象的`声明(Declaration)`*。如果我们不引入这个头文件，那么编译器就会说：我不认识`std::cout`，请你提供它的声明。 除了`关键字(Keyword)`之外，使用任何标识符之前，都必须给编译器提供一个声明，否则编译器就不认识你写的是什么。

第二行是一条注释：

```cpp
// Say hello to C++
```

源代码除了给编译器看，更多的还是给程序员看。因此，在有些情况下使用自然语言描述你的代码干了什么事情也是很有必要的，这就是注释的作用，编译器在编译的过程中会忽略注释。在这个例子中，从双斜线`//`开始一直到这一行结束的部分都是注释。

第三行是一个`函数声明`的开头：

```cpp
int main()
```

`函数声明`用来向程序中引入`函数(Function)`。其中`int`是函数的返回类型，它是一个C++关键字，表示整数类型，来源于`integer`一词的缩写。然后`main`就是这个函数的名字，后面一对括号`()`标志这这条声明引入的是一个函数，其中可以写上函数的参数，由于这个简单的例子中`main`函数不需要参数，因此可以留空。`main`函数是C++里最特殊的函数，它是C++程序的入口，每一个C++程序都会有一个`main`函数。

第四行和第七行有一对相互匹配的花括号，这对花括号以及它们之间的内容就是`main`函数的`函数体`。

```cpp
{
    /* …… */
}
```
在调用`main`函数的时候，就是在执行它函数体里面的语句。当我们在声明函数的同时提供它的函数体，它就成为了一种特殊的声明，称作`定义(Definition)`。顾名思义，这个函数要执行何种操作就有了明确的定义。

第五行是一条`表达式语句`:

```cpp
    std::cout << "你好，我是C++。\n";
```

前面的`std::cout`是标准库定义的一个全局对象。前面的`std`是标准库`名称空间(namespace)`的名字，源自`standard`一词的缩写。中间由两个冒号`::`组成的符号叫做`作用域解析运算符`，它明确了我们要访问的是`std`这个作用域里的`cout`，而不是其他地方的。`cout`源自`Charactor Output`的缩写，通常读作“see-out”。它表示的是标准字符输出流。C++将程序的输入和输出抽象为“流（Stream）”这个概念，在后续的教程中还会详细地介绍它们。

`"你好，我是C++。\n"`这一串由双引号引起来的语言构造叫做`字符串字面量(String Literal)`。字符串就是由很多个字符构成的序列，我们用字符串来记录各种人能看懂的文字，而字面量就是直接写在源代码中的量，后面我们还会见到其他种类的字面量。

在中间，由两个左尖括号或者说小于号组成的符号`<<`叫做`左移运算符`，左右两侧是它的两个操作数`std::cout`和`"你好，我是C++。\n"`。如果你了解一点二进制运算的规则，那你可能会好奇`std::cout`和`"你好，我是C++。\n"`之间到底要如何进行左移运算，其实这里并不是真正的左移，而是有`运算符重载`，C++可以给运算符赋予自定义的含义。这里的左移运算符表示将它右边的值输出到左边的输出流里。箭头的方向直观地指示了数据流的方向。

首先要明确的一点是，编程语言作为一种形式语言，其语法与语义有着严格的对应。我们日常与人对话时使用自然语言，只要对方能明白你的意思，不会有人揪着你的语法错误不放。但编程语言不是这样的，任何一个小小的改变都会对语义的表达产生影响，甚至编译器会拒绝编译你的代码。
